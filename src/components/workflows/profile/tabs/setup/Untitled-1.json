{
    "extract": [
        {
            "label": "Credentials Guid",
            "type": "text",
            "id": "credential-guid",
            "rules": [
                {
                    "type": "required",
                    "enabled": true,
                    "errorMessage": "Account identifier is mandatory"
                }
            ],
            "isVisible": true
        },
        {
            "type": "text",
            "id": "driver-class-name",
            "default": "net.snowflake.client.jdbc.SnowflakeDriver",
            "isVisible": false
        },
        {
            "type": "text",
            "id": "jdbc-jar-tarball-location",
            "default": "https://atlan-public.s3-eu-west-1.amazonaws.com/atlan/jdbc/snowflake.tar.gz",
            "isVisible": false
        },
        {
            "label": "System Schema Regex",
            "type": "text",
            "id": "system-schema-regex",
            "default": "[\"INFORMATION_SCHEMA\"]",
            "isVisible": false
        },
        {
            "label": "Include Filter",
            "type": "text",
            "id": "include-filter",
            "default": "",
            "isVisible": true
        },
        {
            "label": "Exclude Filter",
            "type": "text",
            "id": "exclude-filter",
            "default": "",
            "isVisible": true
        },
        {
            "type": "text",
            "id": "fetch-primary-keys",
            "default": "true",
            "isVisible": false
        },
        {
            "type": "text",
            "id": "fetch-imported-keys",
            "default": "true",
            "isVisible": false
        },
        {
            "type": "text",
            "id": "table-companion-sql",
            "default": "SELECT s.STAGE_URL, s.STAGE_REGION, e.LOCATION, e.FILE_FORMAT_TYPE, v.VIEW_DEFINITION, t.TABLE_CATALOG as TABLE_CAT, t.TABLE_SCHEMA as TABLE_SCHEM, t.* FROM INFORMATION_SCHEMA.TABLES as t LEFT JOIN INFORMATION_SCHEMA.EXTERNAL_TABLES as e ON (t.TABLE_SCHEMA = e.TABLE_SCHEMA AND t.TABLE_NAME = e.TABLE_NAME AND t.TABLE_TYPE = 'EXTERNAL TABLE') LEFT JOIN INFORMATION_SCHEMA.STAGES as s ON (t.TABLE_SCHEMA = s.STAGE_SCHEMA AND t.TABLE_TYPE = 'EXTERNAL TABLE') LEFT JOIN INFORMATION_SCHEMA.VIEWS as v ON (t.TABLE_SCHEMA = v.TABLE_SCHEMA AND t.TABLE_NAME = v.TABLE_NAME) WHERE t.TABLE_SCHEMA != 'INFORMATION_SCHEMA'",
            "isVisible": false
        },
        {
            "type": "text",
            "id": "column-companion-sql",
            "default": "SELECT TABLE_CATALOG as TABLE_CAT, TABLE_SCHEMA as TABLE_SCHEM, * FROM INFORMATION_SCHEMA.COLUMNS WHERE table_schema != 'INFORMATION_SCHEMA'",
            "isVisible": false
        },
        {
            "type": "text",
            "id": "dynamic-query-config",
            "default": "{    \"table\": [{        \"condition\": \"{{row[\\\"TABLE_TYPE\\\"] == \\\"VIEW\\\" and row[\\\"VIEW_DEFINITION\\\"] == null }}\",        \"sql\": \"SELECT GET_DDL('view', '\\\"{{row[\\\"TABLE_SCHEM\\\"]}}\\\"\\.\\\"{{row[\\\"TABLE_NAME\\\"]}}\\\"')\",        \"column\": \"VIEW_DEFINITION\"    }]}",
            "isVisible": false
        }
    ],
    "publish": [
        {
            "id": "host",
            "type": "template",
            "template": "{{credential.host}}",
            "isVisible": false
        },
        {
            "id": "port",
            "type": "template",
            "template": "{{credential.port}}",
            "isVisible": false
        },
        {
            "type": "text",
            "id": "source",
            "default": "snowflake",
            "isVisible": false
        },
        {
            "type": "text",
            "id": "crawler-name",
            "isVisible": true,
            "label": "Account",
            "rules": [
                {
                    "type": "required",
                    "enabled": true,
                    "errorMessage": "Account identifier is mandatory"
                }
            ]
        },
        {
            "type": "template",
            "id": "credential-guid",
            "template": "{{credential.guid}}",
            "isVisible": false
        },
        {
            "label": "Row Limit",
            "type": "number",
            "id": "row-limit",
            "default": 1000,
            "isVisible": true
        },
        {
            "id": "preview-query",
            "type": "checkbox",
            "default": true,
            "label": "Preview and Query Options",
            "stringify": true,
            "isVisible": true,
            "isMultivalued": true,
            "options": [
                {
                    "id": "allow-preview",
                    "label": "Allow Preview"
                },
                {
                    "id": "allow-query",
                    "label": "Allow Query"
                }
            ]
        }
    ]
}